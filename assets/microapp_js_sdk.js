(function(){'use strict';var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(b,c,g){b!=Array.prototype&&b!=Object.prototype&&(b[c]=g.value)},t="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function u(b,c){if(c){var g=t;b=b.split(".");for(var h=0;h<b.length-1;h++){var k=b[h];k in g||(g[k]={});g=g[k]}b=b[b.length-1];h=g[b];c=c(h);c!=h&&null!=c&&r(g,b,{configurable:!0,writable:!0,value:c})}}
function v(b){var c=0;return function(){return c<b.length?{done:!1,value:b[c++]}:{done:!0}}}function x(){x=function(){};t.Symbol||(t.Symbol=y)}function z(b,c){this.a=b;r(this,"description",{configurable:!0,writable:!0,value:c})}z.prototype.toString=function(){return this.a};var y=function(){function b(g){if(this instanceof b)throw new TypeError("Symbol is not a constructor");return new z("jscomp_symbol_"+(g||"")+"_"+c++,g)}var c=0;return b}();
function A(){x();var b=t.Symbol.iterator;b||(b=t.Symbol.iterator=t.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[b]&&r(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return B(v(this))}});A=function(){}}function B(b){A();b={next:b};b[t.Symbol.iterator]=function(){return this};return b}function C(b){var c="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return c?c.call(b):{next:v(b)}}function D(b,c){return Object.prototype.hasOwnProperty.call(b,c)}
u("WeakMap",function(b){function c(a){this.a=(f+=Math.random()+1).toString();if(a){a=C(a);for(var d;!(d=a.next()).done;)d=d.value,this.set(d[0],d[1])}}function g(){}function h(a){if(!D(a,m)){var d=new g;r(a,m,{value:d})}}function k(a){var d=Object[a];d&&(Object[a]=function(e){if(e instanceof g)return e;h(e);return d(e)})}if(function(){if(!b||!Object.seal)return!1;try{var a=Object.seal({}),d=Object.seal({}),e=new b([[a,2],[d,3]]);if(2!=e.get(a)||3!=e.get(d))return!1;e.delete(a);e.set(d,4);return!e.has(a)&&
4==e.get(d)}catch(l){return!1}}())return b;var m="$jscomp_hidden_"+Math.random();k("freeze");k("preventExtensions");k("seal");var f=0;c.prototype.set=function(a,d){h(a);if(!D(a,m))throw Error("WeakMap key fail: "+a);a[m][this.a]=d;return this};c.prototype.get=function(a){return D(a,m)?a[m][this.a]:void 0};c.prototype.has=function(a){return D(a,m)&&D(a[m],this.a)};c.prototype.delete=function(a){return D(a,m)&&D(a[m],this.a)?delete a[m][this.a]:!1};return c});
u("Map",function(b){function c(){var a={};return a.h=a.next=a.head=a}function g(a,d){var e=a.a;return B(function(){if(e){for(;e.head!=a.a;)e=e.h;for(;e.next!=e.head;)return e=e.next,{done:!1,value:d(e)};e=null}return{done:!0,value:void 0}})}function h(a,d){var e=d&&typeof d;"object"==e||"function"==e?m.has(d)?e=m.get(d):(e=""+ ++f,m.set(d,e)):e="p_"+d;var l=a.b[e];if(l&&D(a.b,e))for(a=0;a<l.length;a++){var p=l[a];if(d!==d&&p.key!==p.key||d===p.key)return{id:e,list:l,index:a,c:p}}return{id:e,list:l,
index:-1,c:void 0}}function k(a){this.b={};this.a=c();this.size=0;if(a){a=C(a);for(var d;!(d=a.next()).done;)d=d.value,this.set(d[0],d[1])}}if(function(){if(!b||"function"!=typeof b||!b.prototype.entries||"function"!=typeof Object.seal)return!1;try{var a=Object.seal({x:4}),d=new b(C([[a,"s"]]));if("s"!=d.get(a)||1!=d.size||d.get({x:4})||d.set({x:4},"t")!=d||2!=d.size)return!1;var e=d.entries(),l=e.next();if(l.done||l.value[0]!=a||"s"!=l.value[1])return!1;l=e.next();return l.done||4!=l.value[0].x||
"t"!=l.value[1]||!e.next().done?!1:!0}catch(p){return!1}}())return b;A();var m=new WeakMap;k.prototype.set=function(a,d){a=0===a?0:a;var e=h(this,a);e.list||(e.list=this.b[e.id]=[]);e.c?e.c.value=d:(e.c={next:this.a,h:this.a.h,head:this.a,key:a,value:d},e.list.push(e.c),this.a.h.next=e.c,this.a.h=e.c,this.size++);return this};k.prototype.delete=function(a){a=h(this,a);return a.c&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.b[a.id],a.c.h.next=a.c.next,a.c.next.h=a.c.h,a.c.head=null,
this.size--,!0):!1};k.prototype.clear=function(){this.b={};this.a=this.a.h=c();this.size=0};k.prototype.has=function(a){return!!h(this,a).c};k.prototype.get=function(a){return(a=h(this,a).c)&&a.value};k.prototype.entries=function(){return g(this,function(a){return[a.key,a.value]})};k.prototype.keys=function(){return g(this,function(a){return a.key})};k.prototype.values=function(){return g(this,function(a){return a.value})};k.prototype.forEach=function(a,d){for(var e=this.entries(),l;!(l=e.next()).done;)l=
l.value,a.call(d,l[1],l[0],this)};k.prototype[Symbol.iterator]=k.prototype.entries;var f=0;return k});
u("Promise",function(b){function c(f){this.b=0;this.i=void 0;this.a=[];var a=this.f();try{f(a.resolve,a.reject)}catch(d){a.reject(d)}}function g(){this.a=null}function h(f){return f instanceof c?f:new c(function(a){a(f)})}if(b)return b;g.prototype.b=function(f){if(null==this.a){this.a=[];var a=this;this.f(function(){a.i()})}this.a.push(f)};var k=t.setTimeout;g.prototype.f=function(f){k(f,0)};g.prototype.i=function(){for(;this.a&&this.a.length;){var f=this.a;this.a=[];for(var a=0;a<f.length;++a){var d=
f[a];f[a]=null;try{d()}catch(e){this.g(e)}}}this.a=null};g.prototype.g=function(f){this.f(function(){throw f;})};c.prototype.f=function(){function f(e){return function(l){d||(d=!0,e.call(a,l))}}var a=this,d=!1;return{resolve:f(this.F),reject:f(this.g)}};c.prototype.F=function(f){if(f===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof c)this.G(f);else{a:switch(typeof f){case "object":var a=null!=f;break a;case "function":a=!0;break a;default:a=!1}a?this.D(f):this.l(f)}};
c.prototype.D=function(f){var a=void 0;try{a=f.then}catch(d){this.g(d);return}"function"==typeof a?this.H(a,f):this.l(f)};c.prototype.g=function(f){this.B(2,f)};c.prototype.l=function(f){this.B(1,f)};c.prototype.B=function(f,a){if(0!=this.b)throw Error("Cannot settle("+f+", "+a+"): Promise already settled in state"+this.b);this.b=f;this.i=a;this.C()};c.prototype.C=function(){if(null!=this.a){for(var f=0;f<this.a.length;++f)m.b(this.a[f]);this.a=null}};var m=new g;c.prototype.G=function(f){var a=this.f();
f.j(a.resolve,a.reject)};c.prototype.H=function(f,a){var d=this.f();try{f.call(a,d.resolve,d.reject)}catch(e){d.reject(e)}};c.prototype.then=function(f,a){function d(q,w){return"function"==typeof q?function(E){try{e(q(E))}catch(F){l(F)}}:w}var e,l,p=new c(function(q,w){e=q;l=w});this.j(d(f,e),d(a,l));return p};c.prototype.catch=function(f){return this.then(void 0,f)};c.prototype.j=function(f,a){function d(){switch(e.b){case 1:f(e.i);break;case 2:a(e.i);break;default:throw Error("Unexpected state: "+
e.b);}}var e=this;null==this.a?m.b(d):this.a.push(d)};c.resolve=h;c.reject=function(f){return new c(function(a,d){d(f)})};c.race=function(f){return new c(function(a,d){for(var e=C(f),l=e.next();!l.done;l=e.next())h(l.value).j(a,d)})};c.all=function(f){var a=C(f),d=a.next();return d.done?h([]):new c(function(e,l){function p(E){return function(F){q[E]=F;w--;0==w&&e(q)}}var q=[],w=0;do q.push(void 0),w++,h(d.value).j(p(q.length-1),l),d=a.next();while(!d.done)})};return c});var G=this||self;
function H(b){var c=typeof b;return"object"==c&&null!=b||"function"==c}function I(b,c){b=b.split(".");var g=G;b[0]in g||"undefined"==typeof g.execScript||g.execScript("var "+b[0]);for(var h;b.length&&(h=b.shift());)b.length||void 0===c?g[h]&&g[h]!==Object.prototype[h]?g=g[h]:g=g[h]={}:g[h]=c};var J=null;function K(){}n=K.prototype;n.u=function(){J().u()};n.v=function(b){return J().v(b)};n.m=function(b){return J().m(b)};n.A=function(b){return J().A(b)};n.w=function(b){return J().w(b)};n.o=function(b){return J().o(b)};n.s=function(){return J().s()};var L=/^https:\/\/microapps(-(autopush|preprod|prod-tt|daily-[0-6])\.sandbox)?\.google\.com$/;var M=Array.prototype.every?function(b,c){return Array.prototype.every.call(b,c,void 0)}:function(b,c){for(var g=b.length,h="string"==typeof b?b.split(""):b,k=0;k<g;k++)if(k in h&&!c.call(void 0,h[k],k,b))return!1;return!0};function N(){this.a="";this.b=O}N.prototype.g=!0;N.prototype.f=function(){return this.a.toString()};var P=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,O={};function Q(b){var c=new N;c.a=b;return c}var R=Q("about:blank");function S(b){var c=this;this.a=b;this.g=0;this.b=new Map;this.i=new Promise(function(g){return c.l=g});this.a.addEventListener("message",this.f.bind(this));this.a.start()}S.prototype.f=function(b){if((b=b.data)&&null!=b.id)if(0===b.type)"acceptConnection"===b.name&&this.l();else if(1===b.type){var c=b.id,g=this.b.get(c);g&&(this.b.delete(c),b.error?g.reject(Error("Request "+b.name+" failed: "+b.error)):g.resolve(b.data))}};
function T(b,c,g){var h=void 0===h?!0:h;var k=++b.g,m=Promise.resolve();h&&(m=new Promise(function(a,d){b.b.set(k,{resolve:a,reject:d})}));var f={id:k,type:0,name:c,data:g,isResponseRequired:h};b.i.then(function(){b.a.postMessage(f)});return m};var U=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;var V=null,W=null;function X(){var b=window,c=window,g=W;try{var h=c.self!==c.top}catch(m){h=!0}if(!h)throw Error("Unsupported environment: expected running in iframe");h=new S(g.port1);if(!c.location.ancestorOrigins||!c.location.ancestorOrigins.length)throw Error("unsupported environment");var k=c.location.ancestorOrigins[0];if(!L.test(k))throw Error("unknown viewer origin");c.parent.postMessage({type:0,name:"requestConnection"},k,[g.port2]);this.b=h;this.a=b}n=X.prototype;
n.u=function(){if(!Y(this)){var b=this.a.location;if(R instanceof N)var c=R;else c=R,c instanceof N||(c="object"==typeof c&&c.g?c.f():String(c),P.test(c)||(c="about:invalid#zClosurez"),c=Q(c));b.href=c instanceof N&&c.constructor===N&&c.b===O?c.a:"type_error:SafeUrl"}};n.v=function(b){return null!=b&&H(b)?T(this.b,"requestPayment",b):Promise.reject("valid paymentRequest object is required for this API.")};n.m=function(b){return null!=b&&H(b)?T(this.b,"blockFund",b):Promise.reject("valid paymentRequest object is required for this API.")};
n.w=function(b){return T(this.b,"requestScan",b||{})};n.A=function(b){return null!=b&&H(b)?T(this.b,"requestSharing",b):Promise.reject("valid sharingRequest object is required for this API.")};n.o=function(b){return null==b?Promise.reject("valid order object is required for this API."):T(this.b,"createOrder",b)};n.s=function(){return T(this.b,"getCurrentLocation",{})};
function Y(b){if(b.a.self!==b.a.top){if(b.a.location.origin&&b.a.location.ancestorOrigins){var c=b.a.location.origin;return M(b.a.location.ancestorOrigins,function(g){var h=g.match(U)[3]||null;h=(h?decodeURI(h):h)||"";h=String(h.substr(h.length-11,11)).toLowerCase();return 0==(".google.com"<h?-1:".google.com"==h?0:1)||g===c})}return!1}return!0};var Z;J=function(){V||(W=new MessageChannel,V=new X);return V};Z=new K;I("microapps.requestPayment",Z.v);I("microapps.blockFund",Z.m);I("microapps.requestScan",Z.w);I("microapps.createOrder",Z.o);I("microapps.initialize",Z.u);I("microapps.getCurrentLocation",Z.s);I("microapps.requestSharing",Z.A);}).call(this);
